// Generated by CoffeeScript 1.9.3
(function() {
  var Test01, reqJson;

  reqJson = function(num, cb) {
    return $.ajax({
      type: "GET",
      url: "../api/v1/get",
      data: "num=" + num,
      dataType: "text",
      success: cb
    });
  };

  Test01 = React.createClass({
    getInitialState: function() {
      return {
        name: "0",
        data: []
      };
    },
    componentDidMount: function() {
      return reqJson(22, (function(_this) {
        return function(result) {
          var re;
          re = JSON.parse(result);
          return _this.setState({
            name: _this.props.name,
            data: re.data
          });
        };
      })(this));
    },
    changeName: function() {
      var ndata, new_item;
      ndata = this.state.data;
      new_item = "TestItem" + (ndata.length + 1).toString();
      ndata.push(new_item);
      return this.setState({
        name: new_item,
        data: ndata
      });
    },
    addOneToTable: function(data) {
      return React.createElement("tr", {
        "key": data
      }, React.createElement("td", null, data), React.createElement("td", null, data));
    },
    getTables: function() {
      return React.createElement("tbody", null, this.state.data.map(this.addOneToTable));
    },
    render: function() {
      return React.createElement("div", null, React.createElement("hr", null), React.createElement("h1", null, "Hello, ", this.state.name, "!"), React.createElement("input", {
        "id": "t2",
        "type": "text",
        "name": "lastname"
      }), React.createElement("input", {
        "type": "button",
        "value": "Focus",
        "onClick": this.changeName
      }), React.createElement("a", {
        "href": "http://127.0.0.1:7788/api/v1/get?num=99"
      }, "Ajax\u8bf7\u6c42"), React.createElement("table", null, React.createElement("tr", null, React.createElement("th", null, "Name"), React.createElement("th", null, "V")), this.getTables()));
    }
  });

  React.render(React.createElement(Test01, {
    "name": "aaaaaa"
  }), document.getElementById('example2'));

}).call(this);
